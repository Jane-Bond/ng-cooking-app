{"ast":null,"code":"import { Ingredient } from \"../../shared/ingredient.model\";\nimport * as ShoppingListActions from \"./shopping-list.actions\";\nconst initialState = {\n  ingredients: [new Ingredient(\"Apples\", 5), new Ingredient(\"Tomatoes\", 10)],\n  editedIngredient: null,\n  editedIngredientIndex: -1\n};\nexport function shoppingListReducer(state = initialState, action) {\n  switch (action.type) {\n    case ShoppingListActions.ADD_INGREDIENT:\n      return {\n        ...state,\n        ingredients: [...state.ingredients, action.payload]\n      };\n    case ShoppingListActions.ADD_INGREDIENTS:\n      return {\n        ...state,\n        ingredients: [...state.ingredients, ...action.payload]\n      };\n    case ShoppingListActions.UPDATE_INGREDIENT:\n      const ingredient = state.ingredients[state.editedIngredientIndex];\n      const updatedIngredient = {\n        ...ingredient,\n        ...action.payload\n      };\n      const updatedIngredients = [...state.ingredients];\n      updatedIngredients[state.editedIngredientIndex] = updatedIngredient;\n      return {\n        ...state,\n        ingredients: updatedIngredients,\n        editedIngredientIndex: -1,\n        editedIngredient: null\n      };\n    case ShoppingListActions.DELETE_INGREDIENT:\n      return {\n        ...state,\n        ingredients: state.ingredients.filter((ig, igIndex) => {\n          return igIndex !== state.editedIngredientIndex;\n        }),\n        editedIngredientIndex: -1,\n        editedIngredient: null\n      };\n    case ShoppingListActions.START_EDIT:\n      return {\n        ...state,\n        editedIngredientIndex: action.payload,\n        editedIngredient: {\n          ...state.ingredients[action.payload]\n        }\n      };\n    case ShoppingListActions.STOP_EDIT:\n      return {\n        ...state,\n        editeedIngredient: null,\n        editedIngredienIdex: -1\n      };\n    default:\n      return state;\n  }\n}","map":{"version":3,"mappings":"AAAA,SAASA,UAAU,QAAQ,+BAA+B;AAC1D,OAAO,KAAKC,mBAAmB,MAAM,yBAAyB;AAY9D,MAAMC,YAAY,GAAU;EAC1BC,WAAW,EAAE,CAAC,IAAIH,UAAU,CAAC,QAAQ,EAAE,CAAC,CAAC,EAAE,IAAIA,UAAU,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC;EAC1EI,gBAAgB,EAAE,IAAI;EACtBC,qBAAqB,EAAE,CAAC;CACzB;AAED,OAAM,SAAUC,mBAAmB,CACjCC,QAAeL,YAAY,EAC3BM,MAA+C;EAE/C,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAKR,mBAAmB,CAACS,cAAc;MACrC,OAAO;QACL,GAAGH,KAAK;QACRJ,WAAW,EAAE,CAAC,GAAGI,KAAK,CAACJ,WAAW,EAAEK,MAAM,CAACG,OAAO;OACnD;IACH,KAAKV,mBAAmB,CAACW,eAAe;MACtC,OAAO;QACL,GAAGL,KAAK;QACRJ,WAAW,EAAE,CAAC,GAAGI,KAAK,CAACJ,WAAW,EAAE,GAAGK,MAAM,CAACG,OAAO;OACtD;IACH,KAAKV,mBAAmB,CAACY,iBAAiB;MACxC,MAAMC,UAAU,GAAGP,KAAK,CAACJ,WAAW,CAACI,KAAK,CAACF,qBAAqB,CAAC;MACjE,MAAMU,iBAAiB,GAAG;QACxB,GAAGD,UAAU;QACb,GAAGN,MAAM,CAACG;OACX;MACD,MAAMK,kBAAkB,GAAG,CAAC,GAAGT,KAAK,CAACJ,WAAW,CAAC;MACjDa,kBAAkB,CAACT,KAAK,CAACF,qBAAqB,CAAC,GAAGU,iBAAiB;MAEnE,OAAO;QACL,GAAGR,KAAK;QACRJ,WAAW,EAAEa,kBAAkB;QAC/BX,qBAAqB,EAAE,CAAC,CAAC;QACzBD,gBAAgB,EAAE;OACnB;IACH,KAAKH,mBAAmB,CAACgB,iBAAiB;MACxC,OAAO;QACL,GAAGV,KAAK;QACRJ,WAAW,EAAEI,KAAK,CAACJ,WAAW,CAACe,MAAM,CAAC,CAACC,EAAE,EAAEC,OAAO,KAAI;UACpD,OAAOA,OAAO,KAAKb,KAAK,CAACF,qBAAqB;QAChD,CAAC,CAAC;QACFA,qBAAqB,EAAE,CAAC,CAAC;QACzBD,gBAAgB,EAAE;OACnB;IACH,KAAKH,mBAAmB,CAACoB,UAAU;MACjC,OAAO;QACL,GAAGd,KAAK;QACRF,qBAAqB,EAAEG,MAAM,CAACG,OAAO;QACrCP,gBAAgB,EAAE;UAAE,GAAGG,KAAK,CAACJ,WAAW,CAACK,MAAM,CAACG,OAAO;QAAC;OACzD;IACH,KAAKV,mBAAmB,CAACqB,SAAS;MAChC,OAAO;QACL,GAAGf,KAAK;QACRgB,iBAAiB,EAAE,IAAI;QACvBC,mBAAmB,EAAE,CAAC;OACvB;IACH;MACE,OAAOjB,KAAK;EAAC;AAEnB","names":["Ingredient","ShoppingListActions","initialState","ingredients","editedIngredient","editedIngredientIndex","shoppingListReducer","state","action","type","ADD_INGREDIENT","payload","ADD_INGREDIENTS","UPDATE_INGREDIENT","ingredient","updatedIngredient","updatedIngredients","DELETE_INGREDIENT","filter","ig","igIndex","START_EDIT","STOP_EDIT","editeedIngredient","editedIngredienIdex"],"sourceRoot":"","sources":["/Users/evgeniabondar/Desktop/Git folder/ng-cooking-app/src/app/shopping-list/store/shopping-list.reducer.ts"],"sourcesContent":["import { Ingredient } from \"../../shared/ingredient.model\";\nimport * as ShoppingListActions from \"./shopping-list.actions\";\n\nexport interface State {\n  ingredients: Ingredient[];\n  editedIngredient: Ingredient;\n  editedIngredientIndex: number;\n}\n\nexport interface AppState {\n  shoppingList: State;\n}\n\nconst initialState: State = {\n  ingredients: [new Ingredient(\"Apples\", 5), new Ingredient(\"Tomatoes\", 10)],\n  editedIngredient: null,\n  editedIngredientIndex: -1,\n};\n\nexport function shoppingListReducer(\n  state: State = initialState,\n  action: ShoppingListActions.ShoppingListActions\n) {\n  switch (action.type) {\n    case ShoppingListActions.ADD_INGREDIENT:\n      return {\n        ...state,\n        ingredients: [...state.ingredients, action.payload],\n      };\n    case ShoppingListActions.ADD_INGREDIENTS:\n      return {\n        ...state,\n        ingredients: [...state.ingredients, ...action.payload],\n      };\n    case ShoppingListActions.UPDATE_INGREDIENT:\n      const ingredient = state.ingredients[state.editedIngredientIndex];\n      const updatedIngredient = {\n        ...ingredient,\n        ...action.payload,\n      };\n      const updatedIngredients = [...state.ingredients];\n      updatedIngredients[state.editedIngredientIndex] = updatedIngredient;\n\n      return {\n        ...state,\n        ingredients: updatedIngredients,\n        editedIngredientIndex: -1,\n        editedIngredient: null,\n      };\n    case ShoppingListActions.DELETE_INGREDIENT:\n      return {\n        ...state,\n        ingredients: state.ingredients.filter((ig, igIndex) => {\n          return igIndex !== state.editedIngredientIndex;\n        }),\n        editedIngredientIndex: -1,\n        editedIngredient: null,\n      };\n    case ShoppingListActions.START_EDIT:\n      return {\n        ...state,\n        editedIngredientIndex: action.payload,\n        editedIngredient: { ...state.ingredients[action.payload] },\n      };\n    case ShoppingListActions.STOP_EDIT:\n      return {\n        ...state,\n        editeedIngredient: null,\n        editedIngredienIdex: -1,\n      };\n    default:\n      return state;\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}