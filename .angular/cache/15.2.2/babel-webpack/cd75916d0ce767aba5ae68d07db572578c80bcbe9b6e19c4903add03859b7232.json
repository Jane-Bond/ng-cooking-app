{"ast":null,"code":"import { ofType } from \"@ngrx/effects\";\nimport { take } from \"rxjs/operators\";\nimport * as RecipeActions from \"../recipes/store/recipe.actions\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"@ngrx/effects\";\nexport class RecipesResolverService {\n  constructor(store, actions$) {\n    this.store = store;\n    this.actions$ = actions$;\n  }\n  resolve(route, state) {\n    // return this.dataStorageService.fetchRecipes();\n    this.store.dispatch(new RecipeActions.FetchRecipes());\n    return this.actions$.pipe(ofType(RecipeActions.SET_RECIPES), take(1));\n  }\n}\nRecipesResolverService.ɵfac = function RecipesResolverService_Factory(t) {\n  return new (t || RecipesResolverService)(i0.ɵɵinject(i1.Store), i0.ɵɵinject(i2.Actions));\n};\nRecipesResolverService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: RecipesResolverService,\n  factory: RecipesResolverService.ɵfac,\n  providedIn: \"root\"\n});","map":{"version":3,"mappings":"AAOA,SAAkBA,MAAM,QAAQ,eAAe;AAC/C,SAASC,IAAI,QAAa,gBAAgB;AAK1C,OAAO,KAAKC,aAAa,MAAM,iCAAiC;;;;AAGhE,OAAM,MAAOC,sBAAsB;EACjCC,YACUC,KAA8B,EAC9BC,QAAiB;IADjB,UAAK,GAALD,KAAK;IACL,aAAQ,GAARC,QAAQ;EACf;EAEHC,OAAO,CAACC,KAA6B,EAAEC,KAA0B;IAC/D;IACA,IAAI,CAACJ,KAAK,CAACK,QAAQ,CAAC,IAAIR,aAAa,CAACS,YAAY,EAAE,CAAC;IACrD,OAAO,IAAI,CAACL,QAAQ,CAACM,IAAI,CAACZ,MAAM,CAACE,aAAa,CAACW,WAAW,CAAC,EAAEZ,IAAI,CAAC,CAAC,CAAC,CAAC;EACvE;;AAVWE,sBAAsB;mBAAtBA,sBAAsB;AAAA;AAAtBA,sBAAsB;SAAtBA,sBAAsB;EAAAW,SAAtBX,sBAAsB;EAAAY,YADT;AAAM","names":["ofType","take","RecipeActions","RecipesResolverService","constructor","store","actions$","resolve","route","state","dispatch","FetchRecipes","pipe","SET_RECIPES","factory","providedIn"],"sourceRoot":"","sources":["/Users/evgeniabondar/Desktop/Git folder/ng-cooking-app/src/app/recipes/recipes-resolver.service.ts"],"sourcesContent":["import { Injectable } from \"@angular/core\";\nimport {\n  ActivatedRouteSnapshot,\n  Resolve,\n  RouterStateSnapshot,\n} from \"@angular/router\";\nimport { Store } from \"@ngrx/store\";\nimport { Actions, ofType } from \"@ngrx/effects\";\nimport { take, map } from \"rxjs/operators\";\n\nimport { Recipe } from \"./recipe.model\";\nimport { DataStorageService } from \"../shared/data-storage.service\";\nimport * as fromApp from \"../store/app.reducer\";\nimport * as RecipeActions from \"../recipes/store/recipe.actions\";\n\n@Injectable({ providedIn: \"root\" })\nexport class RecipesResolverService implements Resolve<Recipe[]> {\n  constructor(\n    private store: Store<fromApp.AppState>,\n    private actions$: Actions\n  ) {}\n\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\n    // return this.dataStorageService.fetchRecipes();\n    this.store.dispatch(new RecipeActions.FetchRecipes());\n    return this.actions$.pipe(ofType(RecipeActions.SET_RECIPES), take(1));\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}